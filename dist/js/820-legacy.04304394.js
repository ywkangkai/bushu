"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[820],{5820:function(t,n,e){e.r(n),e.d(n,{default:function(){return l}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 接口管理")]),e("el-breadcrumb-item",[t._v("新增接口")])],1)],1),e("div",{staticClass:"container"},[e("div",{staticClass:"form-box"},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[e("el-input",{attrs:{"suffix-icon":"el-icon-menu",clearable:""},on:{focus:function(n){return t.clearValidate("name")}},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"测试人员",prop:"tester"}},[e("el-input",{attrs:{"suffix-icon":"el-icon-user-solid",clearable:""},on:{focus:function(n){return t.clearValidate("tester")}},model:{value:t.form.tester,callback:function(n){t.$set(t.form,"tester",n)},expression:"form.tester"}})],1),e("el-form-item",{attrs:{label:"所属项目",prop:"project_id"}},[e("el-select",{attrs:{placeholder:"请选择"},model:{value:t.form.project_id,callback:function(n){t.$set(t.form,"project_id",n)},expression:"form.project_id"}},t._l(t.project_names,(function(t,n){return e("el-option",{key:n,attrs:{label:t.projectname,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:"简要描述",prop:"desc"}},[e("el-input",{attrs:{type:"textarea",rows:"4",clearable:""},model:{value:t.form.desc,callback:function(n){t.$set(t.form,"desc",n)},expression:"form.desc"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.onSubmit("form")}}},[t._v("提交")]),e("el-button",{on:{click:function(n){return t.resetForm("form")}}},[t._v("取消")])],1)],1)],1)])])},c=[],o=e(6198),u=(e(5666),e(2552)),i={name:"baseform",data:function(){return{form:{name:"",tester:"",project_id:"",desc:""},rules:{name:[{required:!0,message:"请输入接口名称",trigger:"blur"}],tester:[{required:!0,message:"请输入测试人员",trigger:"blur"}],project_id:[{required:!0,message:"请选择所属项目",trigger:"blur"}]},project_names:[]}},created:function(){this.getProjectNames()},methods:{onSubmit:function(t){var n=this;this.$refs[t].validate(function(){var t=(0,o.Z)(regeneratorRuntime.mark((function t(e){var r,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=16;break}return r=n,t.prev=2,t.next=5,(0,u.IG)(n.form);case 5:c=t.sent,console.log(c),"success"===c.data.message&&(n.$message.success("新增接口成功！"),setInterval((function(){r.$router.go()}),1e3)),c.data.hasOwnProperty("name")&&n.$message.error("接口名称已存在"),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](2),n.$message.error("服务器错误");case 14:t.next=18;break;case 16:return n.$message.error("参数有误"),t.abrupt("return",!1);case 18:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(n){return t.apply(this,arguments)}}())},clearValidate:function(t){this.$refs["form"].clearValidate(t)},resetForm:function(t){this.$refs[t].resetFields()},getProjectNames:function(){var t=this;(0,u.n)().then((function(n){console.log(n.data),t.project_names=n.data.data,console.log(t.project_names)})).catch((function(t){that.$message.error("服务器错误")}))}}},a=i,s=e(1001),f=(0,s.Z)(a,r,c,!1,null,null,null),l=f.exports},2552:function(t,n,e){e.d(n,{$8:function(){return nt},$q:function(){return Q},AH:function(){return it},AZ:function(){return h},B:function(){return l},Bx:function(){return O},Cs:function(){return U},DC:function(){return V},Dr:function(){return ft},FP:function(){return v},G3:function(){return E},GL:function(){return lt},GW:function(){return kt},IG:function(){return g},KL:function(){return et},Kh:function(){return jt},Kq:function(){return ht},L$:function(){return f},LO:function(){return z},Lu:function(){return Y},NM:function(){return ot},NV:function(){return a},NW:function(){return G},OM:function(){return tt},PT:function(){return x},QG:function(){return $t},RB:function(){return L},RD:function(){return zt},RQ:function(){return q},Sp:function(){return vt},TR:function(){return M},Tg:function(){return at},Tj:function(){return gt},Vx:function(){return K},W7:function(){return A},WD:function(){return b},XC:function(){return I},Z4:function(){return T},ZH:function(){return W},Zf:function(){return k},_X:function(){return d},ah:function(){return ct},aj:function(){return _},ay:function(){return R},cQ:function(){return xt},cu:function(){return dt},d9:function(){return u},ei:function(){return ut},iO:function(){return $},ie:function(){return w},in:function(){return S},jJ:function(){return m},jh:function(){return bt},kJ:function(){return pt},kq:function(){return X},lO:function(){return _t},n:function(){return p},nL:function(){return C},nk:function(){return N},nq:function(){return j},ny:function(){return F},o:function(){return Z},pU:function(){return H},pW:function(){return mt},s2:function(){return st},tK:function(){return y},tc:function(){return yt},th:function(){return s},vi:function(){return rt},vj:function(){return D},x4:function(){return i},xQ:function(){return P},yr:function(){return B},z:function(){return J}});var r=e(4206),c=e.n(r),o="http://kk.uoyo.net:8080",u=function(t){return c().get("".concat(o,"/project/list/?page=")+t.page+"&size="+t.size,t)},i=function(t){return c().post("".concat(o,"/project/detail/"),t)},a=function(t,n){return c().put("".concat(o,"/project/edit/")+t+"/",n)},s=function(t){return c()["delete"]("".concat(o,"/project/delete/")+t+"/")},f=function(t){return c().post("".concat(o,"/project/deleteall/"),t)},l=function(t){return c().post("".concat(o,"/project/add/"),t)},p=function(){return c().get("".concat(o,"/interface/project/name"))},d=function(){return c().get("".concat(o,"/project/get/env/"))},m=function(t){return c().post("".concat(o,"/project/run/"),t)},g=function(t){return c().post("".concat(o,"/interface/add/"),t)},v=function(t){return c().get("".concat(o,"/interface/list/?page=")+t.page+"&size="+t.size,t)},b=function(t,n){return c().put("".concat(o,"/interface/edit/")+t+"/",n)},j=function(t){return c()["delete"]("".concat(o,"/interface/delete/")+t+"/")},h=function(t){return c().post("".concat(o,"/interface/deleteall/"),t)},k=function(t){return c().post("".concat(o,"/interface/detail/"),t)},x=function(){return c().get("".concat(o,"/interface/env/"))},y=function(t){return c().post("".concat(o,"/interface/run/"),t)},_=function(t){return c().get("".concat(o,"/env/list/?page=")+t.page+"&size="+t.size,t)},z=function(t,n){return c().put("".concat(o,"/env/edit/")+t+"/",n)},$=function(t){return c()["delete"]("".concat(o,"/env/delete/")+t+"/")},w=function(t){return c().post("".concat(o,"/env/add/"),t)},C=function(t){return c().post("".concat(o,"/env/detail/"),t)},q=function(t){return c().post("".concat(o,"/env/deleteall/"),t)},G=function(t){return c().get("".concat(o,"/debugtalk/list/?page=")+t.page+"&size="+t.size,t)},L=function(t){return c().post("".concat(o,"/debugtalk/detail/"),t)},R=function(t){return c().get("".concat(o,"/debugtalk/code/")+t+"/")},V=function(t){return c().put("".concat(o,"/debugtalk/update/"),t)},Z=function(){return c().get("".concat(o,"/config/project/name/"))},N=function(t){return c().post("".concat(o,"/config/interface/name/"),t)},O=function(t){return c().post("".concat(o,"/config/save/"),t)},P=function(t){return c().get("".concat(o,"/config/list/?page=")+t.page+"&size="+t.size,t)},W=function(t){return c().post("".concat(o,"/config/detail/"),t)},D=function(t){return c()["delete"]("".concat(o,"/config/delete/")+t+"/")},F=function(t){return c().post("".concat(o,"/config/deleteall/"),t)},K=function(t){return c().get("".concat(o,"/config/detail/")+t+"/")},Q=function(t,n){return c().put("".concat(o,"/config/update/")+t+"/",n)},T=function(){return c().get("".concat(o,"/testsuite/project/name/"))},B=function(t){return c().post("".concat(o,"/testsuite/interface/name/"),t)},I=function(t){return c().post("".concat(o,"/testsuite/add/"),t)},S=function(t){return c().get("".concat(o,"/testsuite/list/?page=")+t.page+"&size="+t.size,t)},A=function(t){return c().post("".concat(o,"/testsuite/detail/"),t)},H=function(t){return c().get("".concat(o,"/testsuite/detail/")+t+"/")},J=function(t,n){return c().put("".concat(o,"/testsuite/update/")+t+"/",n)},M=function(t){return c().post("".concat(o,"/testsuite/deleteall/"),t)},X=function(t){return c()["delete"]("".concat(o,"/testsuite/delete/")+t+"/")},E=function(){return c().get("".concat(o,"/testcase/project/name/"))},U=function(t){return c().post("".concat(o,"/testcase/interface/name/"),t)},Y=function(t){return c().post("".concat(o,"/testcase/configure/name/"),t)},tt=function(t){return c().post("".concat(o,"/testcase/name/"),t)},nt=function(t){return c().post("".concat(o,"/testcase/add/"),t)},et=function(t){return c().get("".concat(o,"/testcase/list/?page=")+t.page+"&size="+t.size)},rt=function(t){return c().post("".concat(o,"/testcase/detail/"),t)},ct=function(t){return c()["delete"]("".concat(o,"/testcase/delete/")+t+"/")},ot=function(t){return c().post("".concat(o,"/testcase/deleteall/"),t)},ut=function(t){return c().get("".concat(o,"/testcase/get/detail/")+t+"/")},it=function(t){return c().put("".concat(o,"/testcase/update/"),t)},at=function(){return c().get("".concat(o,"/testcase/get/env/"))},st=function(t){return c().post("".concat(o,"/testcase/run/"),t)},ft=function(t){return c().get("".concat(o,"/report/list/?page=")+t.page+"&size="+t.size)},lt=function(t){return c().get("".concat(o,"/report/view/")+t+"/")},pt=function(t){return c().post("".concat(o,"/report/download/")+t+"/")},dt=function(t){return c()["delete"]("".concat(o,"/report/delete/")+t+"/")},mt=function(t){return c().post("".concat(o,"/report/deleteall/"),t)},gt=function(t){return c().post("".concat(o,"/report/open/"),t)},vt=function(){return c().get("".concat(o,"/summary/data/"))},bt=function(t){return c().post("".concat(o,"/repository/add/"),t)},jt=function(t){return c().get("".concat(o,"/repository/list/?page=")+t.page+"&size="+t.size)},ht=function(t){return c().post("".concat(o,"/repository/detail/"),t)},kt=function(t){return c().put("".concat(o,"/repository/update/"),t)},xt=function(t){return c()["delete"]("".concat(o,"/repository/delete/")+t+"/")},yt=function(t){return c().post("".concat(o,"/repository/deleteall/"),t)},_t=function(t){return c().post("".concat(o,"/repository/search/"),t)},zt=function(t){return c().post("".concat(o,"/repository/git/"),t)},$t=function(t){return c().post("".concat(o,"/repository/compile/"),t)}}}]);
//# sourceMappingURL=820-legacy.04304394.js.map