(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[592],{2592:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return d}});var r=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"crumbs"},[e("el-breadcrumb",{attrs:{separator:"/"}},[e("el-breadcrumb-item",[e("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 套件管理")]),e("el-breadcrumb-item",[t._v("新增套件")])],1)],1),e("div",{staticClass:"container"},[e("div",{staticClass:"form-box"},[e("el-form",{ref:"form",attrs:{rules:t.rules,model:t.form,"label-width":"100px"}},[e("el-form-item",{attrs:{label:"套件名称",prop:"name"}},[e("el-input",{attrs:{"suffix-icon":"el-icon-menu",clearable:""},on:{focus:function(n){return t.clearValidate("name")}},model:{value:t.form.name,callback:function(n){t.$set(t.form,"name",n)},expression:"form.name"}})],1),e("el-form-item",{attrs:{label:"选择项目",prop:"project_id"}},[e("el-select",{attrs:{placeholder:"请选择"},on:{change:function(n){return t.getInterfacesByProjectID(t.form.project_id)}},model:{value:t.form.project_id,callback:function(n){t.$set(t.form,"project_id",n)},expression:"form.project_id"}},t._l(t.project_names,(function(t,n){return e("el-option",{key:n,attrs:{label:t.projectname,value:t.id}})})),1)],1),e("el-form-item",{attrs:{label:"选择接口",prop:"include"}},[e("div",{staticClass:"drag-box"},[e("div",{staticClass:"drag-box-item"},[e("div",{staticClass:"item-title"},[t._v("待选接口")]),e("draggable",{attrs:{options:t.dragOptions},on:{change:function(n){return t.unchangeResult()}},model:{value:t.unselected,callback:function(n){t.unselected=n},expression:"unselected"}},[e("transition-group",{staticClass:"item-ul",attrs:{tag:"div"}},t._l(t.unselected,(function(n){return e("div",{key:n.id,staticClass:"drag-list"},[t._v(" "+t._s(n.name)+" ")])})),0)],1)],1),e("div",{staticClass:"drag-box-item"},[e("div",{staticClass:"item-title"},[t._v("已选接口")]),e("draggable",{attrs:{options:t.dragOptions},on:{change:function(n){return t.changeResult()}},model:{value:t.selected,callback:function(n){t.selected=n},expression:"selected"}},[e("transition-group",{staticClass:"item-ul",attrs:{tag:"div"}},t._l(t.selected,(function(n){return e("div",{key:n.id,staticClass:"drag-list"},[t._v(" "+t._s(n.name)+" ")])})),0)],1)],1)])]),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(n){return t.onSubmit("form")}}},[t._v("提交")]),e("el-button",{on:{click:function(n){return t.resetForm("form")}}},[t._v("取消")])],1)],1)],1)])])},c=[],o=(e(8862),e(4660),e(9980)),u=e.n(o),i=e(2552),a={name:"baseform",data:function(){return{form:{name:"",project_id:"",include:""},rules:{name:[{required:!0,message:"请输入套件名称",trigger:"blur"}],project_id:[{required:!0,message:"请选择所属项目",trigger:"blur"}]},project_names:[],dragOptions:{animation:120,scroll:!0,group:"sortlist",ghostClass:"ghost-style"},unselected:[],selected:[],selected_ids:"",unselected_ids:""}},components:{draggable:u()},created:function(){this.getProjectNames()},methods:{onSubmit:function(t){var n=this;this.$refs[t].validate((function(t){if(!t)return n.$message.error("参数有误"),!1;var e=n,r={include:n.selected_ids,uninclude:n.unselected_ids};n.form.include=JSON.stringify(r),(0,i.XC)(n.form).then((function(t){n.$message.success("新增套件成功！"),setInterval((function(){e.$router.go()}),1e3)})).catch((function(t){t.response.data.hasOwnProperty("name")?n.$message.error("套件名称已存在"):n.$message.error("服务器错误")}))}))},clearValidate:function(t){this.$refs["form"].clearValidate(t)},resetForm:function(t){this.$refs[t].resetFields()},getProjectNames:function(){var t=this;(0,i.Z4)().then((function(n){t.project_names=n.data.data})).catch((function(t){that.$message.error("服务器错误")}))},removeHandle:function(t){console.log(t),this.$message.success("从 ".concat(t.from.id," 移动到 ").concat(t.to.id," "))},getInterfacesByProjectID:function(t){var n=this;(0,i.yr)({id:t}).then((function(t){n.unselected=t.data.data})).catch((function(t){that.$message.error("服务器错误")}))},changeResult:function(){for(var t=this.selected.length,n="[",e=0;e<t;e++)n+=e===t-1?this.selected[e].id+"]":this.selected[e].id+", ";0===t&&(n="[]"),this.selected_ids=n},unchangeResult:function(){for(var t=this.unselected.length,n="[",e=0;e<t;e++)n+=e===t-1?this.unselected[e].id+"]":this.unselected[e].id+", ";0===t&&(n="[]"),this.unselected_ids=n}}},s=a,f=e(1001),l=(0,f.Z)(s,r,c,!1,null,"6daa8cfa",null),d=l.exports},7475:function(t,n,e){var r=e(7854),c=e(3157),o=e(4411),u=e(111),i=e(5112),a=i("species"),s=r.Array;t.exports=function(t){var n;return c(t)&&(n=t.constructor,o(n)&&(n===s||c(n.prototype))?n=void 0:u(n)&&(n=n[a],null===n&&(n=void 0))),void 0===n?s:n}},5417:function(t,n,e){var r=e(7475);t.exports=function(t,n){return new(r(t))(0===n?0:n)}},3157:function(t,n,e){var r=e(4326);t.exports=Array.isArray||function(t){return"Array"==r(t)}},4660:function(t,n,e){"use strict";var r=e(2109),c=e(7854),o=e(7293),u=e(3157),i=e(111),a=e(7908),s=e(6244),f=e(6135),l=e(5417),d=e(1194),p=e(5112),g=e(7392),m=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",b=c.TypeError,_=g>=51||!o((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),j=d("concat"),y=function(t){if(!i(t))return!1;var n=t[m];return void 0!==n?!!n:u(t)},k=!_||!j;r({target:"Array",proto:!0,forced:k},{concat:function(t){var n,e,r,c,o,u=a(this),i=l(u,0),d=0;for(n=-1,r=arguments.length;n<r;n++)if(o=-1===n?u:arguments[n],y(o)){if(c=s(o),d+c>v)throw b(h);for(e=0;e<c;e++,d++)e in o&&f(i,d,o[e])}else{if(d>=v)throw b(h);f(i,d++,o)}return i.length=d,i}})},2552:function(t,n,e){"use strict";e.d(n,{$8:function(){return nt},$q:function(){return T},AH:function(){return it},AZ:function(){return _},B:function(){return l},Bx:function(){return L},Cs:function(){return U},DC:function(){return q},Dr:function(){return ft},FP:function(){return v},G3:function(){return E},GL:function(){return lt},GW:function(){return jt},IG:function(){return m},KL:function(){return et},Kh:function(){return bt},Kq:function(){return _t},L$:function(){return f},LO:function(){return C},Lu:function(){return Y},NM:function(){return ot},NV:function(){return a},NW:function(){return R},OM:function(){return tt},PT:function(){return y},QG:function(){return zt},RB:function(){return A},RD:function(){return Ct},RQ:function(){return O},Sp:function(){return vt},TR:function(){return M},Tg:function(){return at},Tj:function(){return mt},Vx:function(){return S},W7:function(){return Q},WD:function(){return h},XC:function(){return F},Z4:function(){return V},ZH:function(){return Z},Zf:function(){return j},_X:function(){return p},ah:function(){return ct},aj:function(){return x},ay:function(){return P},cQ:function(){return yt},cu:function(){return pt},d9:function(){return u},ei:function(){return ut},iO:function(){return z},ie:function(){return $},in:function(){return K},jJ:function(){return g},jh:function(){return ht},kJ:function(){return dt},kq:function(){return X},lO:function(){return xt},n:function(){return d},nL:function(){return w},nk:function(){return I},nq:function(){return b},ny:function(){return G},o:function(){return D},pU:function(){return H},pW:function(){return gt},s2:function(){return st},tK:function(){return k},tc:function(){return kt},th:function(){return s},vi:function(){return rt},vj:function(){return B},x4:function(){return i},xQ:function(){return N},yr:function(){return W},z:function(){return J}});var r=e(4206),c=e.n(r),o="http://kk.uoyo.net:8080",u=function(t){return c().get("".concat(o,"/project/list/?page=")+t.page+"&size="+t.size,t)},i=function(t){return c().post("".concat(o,"/project/detail/"),t)},a=function(t,n){return c().put("".concat(o,"/project/edit/")+t+"/",n)},s=function(t){return c()["delete"]("".concat(o,"/project/delete/")+t+"/")},f=function(t){return c().post("".concat(o,"/project/deleteall/"),t)},l=function(t){return c().post("".concat(o,"/project/add/"),t)},d=function(){return c().get("".concat(o,"/interface/project/name"))},p=function(){return c().get("".concat(o,"/project/get/env/"))},g=function(t){return c().post("".concat(o,"/project/run/"),t)},m=function(t){return c().post("".concat(o,"/interface/add/"),t)},v=function(t){return c().get("".concat(o,"/interface/list/?page=")+t.page+"&size="+t.size,t)},h=function(t,n){return c().put("".concat(o,"/interface/edit/")+t+"/",n)},b=function(t){return c()["delete"]("".concat(o,"/interface/delete/")+t+"/")},_=function(t){return c().post("".concat(o,"/interface/deleteall/"),t)},j=function(t){return c().post("".concat(o,"/interface/detail/"),t)},y=function(){return c().get("".concat(o,"/interface/env/"))},k=function(t){return c().post("".concat(o,"/interface/run/"),t)},x=function(t){return c().get("".concat(o,"/env/list/?page=")+t.page+"&size="+t.size,t)},C=function(t,n){return c().put("".concat(o,"/env/edit/")+t+"/",n)},z=function(t){return c()["delete"]("".concat(o,"/env/delete/")+t+"/")},$=function(t){return c().post("".concat(o,"/env/add/"),t)},w=function(t){return c().post("".concat(o,"/env/detail/"),t)},O=function(t){return c().post("".concat(o,"/env/deleteall/"),t)},R=function(t){return c().get("".concat(o,"/debugtalk/list/?page=")+t.page+"&size="+t.size,t)},A=function(t){return c().post("".concat(o,"/debugtalk/detail/"),t)},P=function(t){return c().get("".concat(o,"/debugtalk/code/")+t+"/")},q=function(t){return c().put("".concat(o,"/debugtalk/update/"),t)},D=function(){return c().get("".concat(o,"/config/project/name/"))},I=function(t){return c().post("".concat(o,"/config/interface/name/"),t)},L=function(t){return c().post("".concat(o,"/config/save/"),t)},N=function(t){return c().get("".concat(o,"/config/list/?page=")+t.page+"&size="+t.size,t)},Z=function(t){return c().post("".concat(o,"/config/detail/"),t)},B=function(t){return c()["delete"]("".concat(o,"/config/delete/")+t+"/")},G=function(t){return c().post("".concat(o,"/config/deleteall/"),t)},S=function(t){return c().get("".concat(o,"/config/detail/")+t+"/")},T=function(t,n){return c().put("".concat(o,"/config/update/")+t+"/",n)},V=function(){return c().get("".concat(o,"/testsuite/project/name/"))},W=function(t){return c().post("".concat(o,"/testsuite/interface/name/"),t)},F=function(t){return c().post("".concat(o,"/testsuite/add/"),t)},K=function(t){return c().get("".concat(o,"/testsuite/list/?page=")+t.page+"&size="+t.size,t)},Q=function(t){return c().post("".concat(o,"/testsuite/detail/"),t)},H=function(t){return c().get("".concat(o,"/testsuite/detail/")+t+"/")},J=function(t,n){return c().put("".concat(o,"/testsuite/update/")+t+"/",n)},M=function(t){return c().post("".concat(o,"/testsuite/deleteall/"),t)},X=function(t){return c()["delete"]("".concat(o,"/testsuite/delete/")+t+"/")},E=function(){return c().get("".concat(o,"/testcase/project/name/"))},U=function(t){return c().post("".concat(o,"/testcase/interface/name/"),t)},Y=function(t){return c().post("".concat(o,"/testcase/configure/name/"),t)},tt=function(t){return c().post("".concat(o,"/testcase/name/"),t)},nt=function(t){return c().post("".concat(o,"/testcase/add/"),t)},et=function(t){return c().get("".concat(o,"/testcase/list/?page=")+t.page+"&size="+t.size)},rt=function(t){return c().post("".concat(o,"/testcase/detail/"),t)},ct=function(t){return c()["delete"]("".concat(o,"/testcase/delete/")+t+"/")},ot=function(t){return c().post("".concat(o,"/testcase/deleteall/"),t)},ut=function(t){return c().get("".concat(o,"/testcase/get/detail/")+t+"/")},it=function(t){return c().put("".concat(o,"/testcase/update/"),t)},at=function(){return c().get("".concat(o,"/testcase/get/env/"))},st=function(t){return c().post("".concat(o,"/testcase/run/"),t)},ft=function(t){return c().get("".concat(o,"/report/list/?page=")+t.page+"&size="+t.size)},lt=function(t){return c().get("".concat(o,"/report/view/")+t+"/")},dt=function(t){return c().post("".concat(o,"/report/download/")+t+"/")},pt=function(t){return c()["delete"]("".concat(o,"/report/delete/")+t+"/")},gt=function(t){return c().post("".concat(o,"/report/deleteall/"),t)},mt=function(t){return c().post("".concat(o,"/report/open/"),t)},vt=function(){return c().get("".concat(o,"/summary/data/"))},ht=function(t){return c().post("".concat(o,"/repository/add/"),t)},bt=function(t){return c().get("".concat(o,"/repository/list/?page=")+t.page+"&size="+t.size)},_t=function(t){return c().post("".concat(o,"/repository/detail/"),t)},jt=function(t){return c().put("".concat(o,"/repository/update/"),t)},yt=function(t){return c()["delete"]("".concat(o,"/repository/delete/")+t+"/")},kt=function(t){return c().post("".concat(o,"/repository/deleteall/"),t)},xt=function(t){return c().post("".concat(o,"/repository/search/"),t)},Ct=function(t){return c().post("".concat(o,"/repository/git/"),t)},zt=function(t){return c().post("".concat(o,"/repository/compile/"),t)}}}]);
//# sourceMappingURL=592-legacy.e116e849.js.map