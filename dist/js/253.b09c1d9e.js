"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[253],{8253:function(t,e,n){n.r(e),n.d(e,{default:function(){return c}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"table"},[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-lx-calendar"}),t._v(" 报告管理")]),n("el-breadcrumb-item",[t._v("报告列表")])],1)],1),n("div",{staticClass:"container"},[n("div",{staticClass:"handle-box"},[n("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.delAll}},[t._v("批量删除")]),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入筛选关键词"},model:{value:t.select_word,callback:function(e){t.select_word=e},expression:"select_word"}})],1),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:t.tableData,border:"",stripe:""},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"报告名称",width:"350"}}),n("el-table-column",{attrs:{prop:"result",label:"执行结果",width:"80"}}),n("el-table-column",{attrs:{prop:"count",label:"用例总数",width:"80"}}),n("el-table-column",{attrs:{prop:"success",label:"成功总数",width:"80"}}),n("el-table-column",{attrs:{prop:"failed",label:"失败总数",width:"80"}}),n("el-table-column",{attrs:{prop:"create_time",label:"创建时间",sortable:"",align:"center"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",icon:"el-icon-view"},on:{click:function(n){return t.handleOpen(e.$index,e.row)}}},[t._v("打开")]),n("el-button",{attrs:{type:"text",icon:"el-icon-download"},on:{click:function(n){return t.handleDownload(e.$index,e.row)}}},[t._v("下载")]),n("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"","page-sizes":[4,5,8,10,20],layout:"total, sizes, prev, pager, next, jumper",total:t.total_nums,"page-size":t.page_size},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChange}})],1)],1),n("el-dialog",{attrs:{title:"删除套件",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[n("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)]),t.reportType?n("div",{staticStyle:{position:"absolute",top:"80px",left:"30px"},attrs:{width:"auto",height:"auto",scrolling:"yes"},domProps:{innerHTML:t._s(t.htmlContent)}}):t._e()],1)},r=[],a=n(2552),s={name:"basetable",data(){return{tableData:[],cur_page:1,page_size:10,total_nums:1,multipleSelection:[],select_word:"",del_list:[],delVisible:!1,form:{},idx:-1,id:-1,env_id:"",envs_id_names:[],html:!1,htmlContent:"",reportType:!0}},created(){this.getData()},methods:{handleCurrentChange(t){this.cur_page=t,this.getData()},handleSizeChange(t){this.page_size=t,this.getData()},getData(){(0,a.Dr)({page:this.cur_page,size:this.page_size}).then((t=>{this.tableData=t.data.results,this.cur_page=t.data.current_page_num||1,this.total_nums=t.data.count||1}))},handleDelete(t,e){this.idx=t,this.id=e.id,this.delVisible=!0},handleDownload(t,e){this.idx=t,this.id=e.id;let n=e.name+".html";(0,a.kJ)(this.id).then((t=>{const e=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=e,i.setAttribute("download",n),document.body.appendChild(i),i.click(),i.remove()})).catch((t=>{this.$message.error("服务器错误")}))},handleOpen(t,e){this.idx=t,this.id=e.id,(0,a.Tj)({id:this.id}).then((t=>{let e=t.data.html;this.htmlContent=e,this.html=!0})).catch((t=>{this.$message.error("服务器错误")}))},delAll(){(0,a.pW)({idlist:this.del_list}).then((t=>{this.$message.success("删除成功"),this.tableData=t.data.results})).catch((t=>{this.$message.error("服务器错误")}))},handleSelectionChange(t){let e=t,n=[];for(var i=0;i<e.length;i++)n.push(e[i]["id"]);this.del_list=n},deleteRow(){(0,a.cu)(this.id).then((t=>{this.$message.success("删除成功"),this.delVisible=!1,this.tableData=t.data.results,this.cur_page=t.data.current_page_num||1,this.total_nums=t.data.count||1})).catch((t=>{this.$message.error("服务器错误")}))}}},o=s,l=n(1001),u=(0,l.Z)(o,i,r,!1,null,"0ca6335a",null),c=u.exports},2552:function(t,e,n){n.d(e,{$8:function(){return et},$q:function(){return K},AH:function(){return ot},AZ:function(){return _},B:function(){return d},Bx:function(){return W},Cs:function(){return I},DC:function(){return S},Dr:function(){return ct},FP:function(){return $},G3:function(){return F},GL:function(){return dt},GW:function(){return vt},IG:function(){return h},KL:function(){return nt},Kh:function(){return bt},Kq:function(){return _t},L$:function(){return c},LO:function(){return C},Lu:function(){return Y},NM:function(){return at},NV:function(){return l},NW:function(){return L},OM:function(){return tt},PT:function(){return w},QG:function(){return kt},RB:function(){return T},RD:function(){return Ct},RQ:function(){return D},Sp:function(){return $t},TR:function(){return E},Tg:function(){return lt},Tj:function(){return ht},Vx:function(){return B},W7:function(){return N},WD:function(){return m},XC:function(){return J},Z4:function(){return Q},ZH:function(){return G},Zf:function(){return v},_X:function(){return f},ah:function(){return rt},aj:function(){return z},ay:function(){return R},cQ:function(){return wt},cu:function(){return ft},d9:function(){return s},ei:function(){return st},iO:function(){return k},ie:function(){return x},in:function(){return M},jJ:function(){return g},jh:function(){return mt},kJ:function(){return pt},kq:function(){return X},lO:function(){return zt},n:function(){return p},nL:function(){return j},nk:function(){return O},nq:function(){return b},ny:function(){return q},o:function(){return V},pU:function(){return P},pW:function(){return gt},s2:function(){return ut},tK:function(){return y},tc:function(){return yt},th:function(){return u},vi:function(){return it},vj:function(){return Z},x4:function(){return o},xQ:function(){return A},yr:function(){return H},z:function(){return U}});var i=n(4206),r=n.n(i);let a="http://kk.uoyo.net:8080";const s=t=>r().get(`${a}/project/list/?page=`+t.page+"&size="+t.size,t),o=t=>r().post(`${a}/project/detail/`,t),l=(t,e)=>r().put(`${a}/project/edit/`+t+"/",e),u=t=>r()["delete"](`${a}/project/delete/`+t+"/"),c=t=>r().post(`${a}/project/deleteall/`,t),d=t=>r().post(`${a}/project/add/`,t),p=()=>r().get(`${a}/interface/project/name`),f=()=>r().get(`${a}/project/get/env/`),g=t=>r().post(`${a}/project/run/`,t),h=t=>r().post(`${a}/interface/add/`,t),$=t=>r().get(`${a}/interface/list/?page=`+t.page+"&size="+t.size,t),m=(t,e)=>r().put(`${a}/interface/edit/`+t+"/",e),b=t=>r()["delete"](`${a}/interface/delete/`+t+"/"),_=t=>r().post(`${a}/interface/deleteall/`,t),v=t=>r().post(`${a}/interface/detail/`,t),w=()=>r().get(`${a}/interface/env/`),y=t=>r().post(`${a}/interface/run/`,t),z=t=>r().get(`${a}/env/list/?page=`+t.page+"&size="+t.size,t),C=(t,e)=>r().put(`${a}/env/edit/`+t+"/",e),k=t=>r()["delete"](`${a}/env/delete/`+t+"/"),x=t=>r().post(`${a}/env/add/`,t),j=t=>r().post(`${a}/env/detail/`,t),D=t=>r().post(`${a}/env/deleteall/`,t),L=t=>r().get(`${a}/debugtalk/list/?page=`+t.page+"&size="+t.size,t),T=t=>r().post(`${a}/debugtalk/detail/`,t),R=t=>r().get(`${a}/debugtalk/code/`+t+"/"),S=t=>r().put(`${a}/debugtalk/update/`,t),V=()=>r().get(`${a}/config/project/name/`),O=t=>r().post(`${a}/config/interface/name/`,t),W=t=>r().post(`${a}/config/save/`,t),A=t=>r().get(`${a}/config/list/?page=`+t.page+"&size="+t.size,t),G=t=>r().post(`${a}/config/detail/`,t),Z=t=>r()["delete"](`${a}/config/delete/`+t+"/"),q=t=>r().post(`${a}/config/deleteall/`,t),B=t=>r().get(`${a}/config/detail/`+t+"/"),K=(t,e)=>r().put(`${a}/config/update/`+t+"/",e),Q=()=>r().get(`${a}/testsuite/project/name/`),H=t=>r().post(`${a}/testsuite/interface/name/`,t),J=t=>r().post(`${a}/testsuite/add/`,t),M=t=>r().get(`${a}/testsuite/list/?page=`+t.page+"&size="+t.size,t),N=t=>r().post(`${a}/testsuite/detail/`,t),P=t=>r().get(`${a}/testsuite/detail/`+t+"/"),U=(t,e)=>r().put(`${a}/testsuite/update/`+t+"/",e),E=t=>r().post(`${a}/testsuite/deleteall/`,t),X=t=>r()["delete"](`${a}/testsuite/delete/`+t+"/"),F=()=>r().get(`${a}/testcase/project/name/`),I=t=>r().post(`${a}/testcase/interface/name/`,t),Y=t=>r().post(`${a}/testcase/configure/name/`,t),tt=t=>r().post(`${a}/testcase/name/`,t),et=t=>r().post(`${a}/testcase/add/`,t),nt=t=>r().get(`${a}/testcase/list/?page=`+t.page+"&size="+t.size),it=t=>r().post(`${a}/testcase/detail/`,t),rt=t=>r()["delete"](`${a}/testcase/delete/`+t+"/"),at=t=>r().post(`${a}/testcase/deleteall/`,t),st=t=>r().get(`${a}/testcase/get/detail/`+t+"/"),ot=t=>r().put(`${a}/testcase/update/`,t),lt=()=>r().get(`${a}/testcase/get/env/`),ut=t=>r().post(`${a}/testcase/run/`,t),ct=t=>r().get(`${a}/report/list/?page=`+t.page+"&size="+t.size),dt=t=>r().get(`${a}/report/view/`+t+"/"),pt=t=>r().post(`${a}/report/download/`+t+"/"),ft=t=>r()["delete"](`${a}/report/delete/`+t+"/"),gt=t=>r().post(`${a}/report/deleteall/`,t),ht=t=>r().post(`${a}/report/open/`,t),$t=()=>r().get(`${a}/summary/data/`),mt=t=>r().post(`${a}/repository/add/`,t),bt=t=>r().get(`${a}/repository/list/?page=`+t.page+"&size="+t.size),_t=t=>r().post(`${a}/repository/detail/`,t),vt=t=>r().put(`${a}/repository/update/`,t),wt=t=>r()["delete"](`${a}/repository/delete/`+t+"/"),yt=t=>r().post(`${a}/repository/deleteall/`,t),zt=t=>r().post(`${a}/repository/search/`,t),Ct=t=>r().post(`${a}/repository/git/`,t),kt=t=>r().post(`${a}/repository/compile/`,t)}}]);
//# sourceMappingURL=253.b09c1d9e.js.map