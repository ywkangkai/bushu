"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[820],{5820:function(e,t,r){r.r(t),r.d(t,{default:function(){return l}});var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"crumbs"},[r("el-breadcrumb",{attrs:{separator:"/"}},[r("el-breadcrumb-item",[r("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 接口管理")]),r("el-breadcrumb-item",[e._v("新增接口")])],1)],1),r("div",{staticClass:"container"},[r("div",{staticClass:"form-box"},[r("el-form",{ref:"form",attrs:{rules:e.rules,model:e.form,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"接口名称",prop:"name"}},[r("el-input",{attrs:{"suffix-icon":"el-icon-menu",clearable:""},on:{focus:function(t){return e.clearValidate("name")}},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),r("el-form-item",{attrs:{label:"测试人员",prop:"tester"}},[r("el-input",{attrs:{"suffix-icon":"el-icon-user-solid",clearable:""},on:{focus:function(t){return e.clearValidate("tester")}},model:{value:e.form.tester,callback:function(t){e.$set(e.form,"tester",t)},expression:"form.tester"}})],1),r("el-form-item",{attrs:{label:"所属项目",prop:"project_id"}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.form.project_id,callback:function(t){e.$set(e.form,"project_id",t)},expression:"form.project_id"}},e._l(e.project_names,(function(e,t){return r("el-option",{key:t,attrs:{label:e.projectname,value:e.id}})})),1)],1),r("el-form-item",{attrs:{label:"简要描述",prop:"desc"}},[r("el-input",{attrs:{type:"textarea",rows:"4",clearable:""},model:{value:e.form.desc,callback:function(t){e.$set(e.form,"desc",t)},expression:"form.desc"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.onSubmit("form")}}},[e._v("提交")]),r("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("取消")])],1)],1)],1)])])},o=[],i=r(2552),u={name:"baseform",data:function(){return{form:{name:"",tester:"",project_id:"",desc:""},rules:{name:[{required:!0,message:"请输入接口名称",trigger:"blur"}],tester:[{required:!0,message:"请输入测试人员",trigger:"blur"}],project_id:[{required:!0,message:"请选择所属项目",trigger:"blur"}]},project_names:[]}},created(){this.getProjectNames()},methods:{onSubmit(e){this.$refs[e].validate((async e=>{if(!e)return this.$message.error("参数有误"),!1;{let e=this;try{let t=await(0,i.IG)(this.form);console.log(t),"success"===t.data.message&&(this.$message.success("新增接口成功！"),setInterval((function(){e.$router.go()}),1e3)),t.data.hasOwnProperty("name")&&this.$message.error("接口名称已存在")}catch(t){this.$message.error("服务器错误")}}}))},clearValidate(e){this.$refs["form"].clearValidate(e)},resetForm(e){this.$refs[e].resetFields()},getProjectNames(){(0,i.n)().then((e=>{console.log(e.data),this.project_names=e.data.data,console.log(this.project_names)})).catch((e=>{that.$message.error("服务器错误")}))}}},s=u,a=r(1001),c=(0,a.Z)(s,n,o,!1,null,null,null),l=c.exports},2552:function(e,t,r){r.d(t,{$8:function(){return te},$q:function(){return R},AH:function(){return se},AZ:function(){return h},B:function(){return f},Bx:function(){return W},Cs:function(){return U},DC:function(){return N},Dr:function(){return le},FP:function(){return g},G3:function(){return E},GL:function(){return fe},GW:function(){return je},IG:function(){return m},KL:function(){return re},Kh:function(){return ve},Kq:function(){return he},L$:function(){return l},LO:function(){return z},Lu:function(){return Y},NM:function(){return ie},NV:function(){return a},NW:function(){return G},OM:function(){return ee},PT:function(){return y},QG:function(){return xe},RB:function(){return L},RD:function(){return ze},RQ:function(){return q},Sp:function(){return ge},TR:function(){return M},Tg:function(){return ae},Tj:function(){return me},Vx:function(){return Q},W7:function(){return A},WD:function(){return b},XC:function(){return I},Z4:function(){return T},ZH:function(){return D},Zf:function(){return j},_X:function(){return d},ah:function(){return oe},aj:function(){return _},ay:function(){return V},cQ:function(){return ye},cu:function(){return de},d9:function(){return u},ei:function(){return ue},iO:function(){return x},ie:function(){return C},in:function(){return S},jJ:function(){return $},jh:function(){return be},kJ:function(){return pe},kq:function(){return X},lO:function(){return _e},n:function(){return p},nL:function(){return w},nk:function(){return P},nq:function(){return v},ny:function(){return K},o:function(){return O},pU:function(){return H},pW:function(){return $e},s2:function(){return ce},tK:function(){return k},tc:function(){return ke},th:function(){return c},vi:function(){return ne},vj:function(){return F},x4:function(){return s},xQ:function(){return Z},yr:function(){return B},z:function(){return J}});var n=r(4206),o=r.n(n);let i="http://kk.uoyo.net:8080";const u=e=>o().get(`${i}/project/list/?page=`+e.page+"&size="+e.size,e),s=e=>o().post(`${i}/project/detail/`,e),a=(e,t)=>o().put(`${i}/project/edit/`+e+"/",t),c=e=>o()["delete"](`${i}/project/delete/`+e+"/"),l=e=>o().post(`${i}/project/deleteall/`,e),f=e=>o().post(`${i}/project/add/`,e),p=()=>o().get(`${i}/interface/project/name`),d=()=>o().get(`${i}/project/get/env/`),$=e=>o().post(`${i}/project/run/`,e),m=e=>o().post(`${i}/interface/add/`,e),g=e=>o().get(`${i}/interface/list/?page=`+e.page+"&size="+e.size,e),b=(e,t)=>o().put(`${i}/interface/edit/`+e+"/",t),v=e=>o()["delete"](`${i}/interface/delete/`+e+"/"),h=e=>o().post(`${i}/interface/deleteall/`,e),j=e=>o().post(`${i}/interface/detail/`,e),y=()=>o().get(`${i}/interface/env/`),k=e=>o().post(`${i}/interface/run/`,e),_=e=>o().get(`${i}/env/list/?page=`+e.page+"&size="+e.size,e),z=(e,t)=>o().put(`${i}/env/edit/`+e+"/",t),x=e=>o()["delete"](`${i}/env/delete/`+e+"/"),C=e=>o().post(`${i}/env/add/`,e),w=e=>o().post(`${i}/env/detail/`,e),q=e=>o().post(`${i}/env/deleteall/`,e),G=e=>o().get(`${i}/debugtalk/list/?page=`+e.page+"&size="+e.size,e),L=e=>o().post(`${i}/debugtalk/detail/`,e),V=e=>o().get(`${i}/debugtalk/code/`+e+"/"),N=e=>o().put(`${i}/debugtalk/update/`,e),O=()=>o().get(`${i}/config/project/name/`),P=e=>o().post(`${i}/config/interface/name/`,e),W=e=>o().post(`${i}/config/save/`,e),Z=e=>o().get(`${i}/config/list/?page=`+e.page+"&size="+e.size,e),D=e=>o().post(`${i}/config/detail/`,e),F=e=>o()["delete"](`${i}/config/delete/`+e+"/"),K=e=>o().post(`${i}/config/deleteall/`,e),Q=e=>o().get(`${i}/config/detail/`+e+"/"),R=(e,t)=>o().put(`${i}/config/update/`+e+"/",t),T=()=>o().get(`${i}/testsuite/project/name/`),B=e=>o().post(`${i}/testsuite/interface/name/`,e),I=e=>o().post(`${i}/testsuite/add/`,e),S=e=>o().get(`${i}/testsuite/list/?page=`+e.page+"&size="+e.size,e),A=e=>o().post(`${i}/testsuite/detail/`,e),H=e=>o().get(`${i}/testsuite/detail/`+e+"/"),J=(e,t)=>o().put(`${i}/testsuite/update/`+e+"/",t),M=e=>o().post(`${i}/testsuite/deleteall/`,e),X=e=>o()["delete"](`${i}/testsuite/delete/`+e+"/"),E=()=>o().get(`${i}/testcase/project/name/`),U=e=>o().post(`${i}/testcase/interface/name/`,e),Y=e=>o().post(`${i}/testcase/configure/name/`,e),ee=e=>o().post(`${i}/testcase/name/`,e),te=e=>o().post(`${i}/testcase/add/`,e),re=e=>o().get(`${i}/testcase/list/?page=`+e.page+"&size="+e.size),ne=e=>o().post(`${i}/testcase/detail/`,e),oe=e=>o()["delete"](`${i}/testcase/delete/`+e+"/"),ie=e=>o().post(`${i}/testcase/deleteall/`,e),ue=e=>o().get(`${i}/testcase/get/detail/`+e+"/"),se=e=>o().put(`${i}/testcase/update/`,e),ae=()=>o().get(`${i}/testcase/get/env/`),ce=e=>o().post(`${i}/testcase/run/`,e),le=e=>o().get(`${i}/report/list/?page=`+e.page+"&size="+e.size),fe=e=>o().get(`${i}/report/view/`+e+"/"),pe=e=>o().post(`${i}/report/download/`+e+"/"),de=e=>o()["delete"](`${i}/report/delete/`+e+"/"),$e=e=>o().post(`${i}/report/deleteall/`,e),me=e=>o().post(`${i}/report/open/`,e),ge=()=>o().get(`${i}/summary/data/`),be=e=>o().post(`${i}/repository/add/`,e),ve=e=>o().get(`${i}/repository/list/?page=`+e.page+"&size="+e.size),he=e=>o().post(`${i}/repository/detail/`,e),je=e=>o().put(`${i}/repository/update/`,e),ye=e=>o()["delete"](`${i}/repository/delete/`+e+"/"),ke=e=>o().post(`${i}/repository/deleteall/`,e),_e=e=>o().post(`${i}/repository/search/`,e),ze=e=>o().post(`${i}/repository/git/`,e),xe=e=>o().post(`${i}/repository/compile/`,e)}}]);
//# sourceMappingURL=820.81d938c1.js.map