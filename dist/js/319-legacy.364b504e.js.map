{"version":3,"file":"js/319-legacy.364b504e.js","mappings":"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","sources":["webpack://vue-admin/./src/components/Register.vue?1ef2","webpack://vue-admin/src/components/Register.vue","webpack://vue-admin/./src/components/Register.vue?e89b","webpack://vue-admin/./src/components/Register.vue","webpack://vue-admin/./node_modules/core-js/internals/clear-error-stack.js","webpack://vue-admin/./node_modules/core-js/internals/error-stack-installable.js","webpack://vue-admin/./node_modules/core-js/internals/inherit-if-required.js","webpack://vue-admin/./node_modules/core-js/internals/install-error-cause.js","webpack://vue-admin/./node_modules/core-js/internals/normalize-string-argument.js","webpack://vue-admin/./node_modules/core-js/internals/wrap-error-constructor-with-cause.js","webpack://vue-admin/./node_modules/core-js/modules/es.error.cause.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"login-wrap\"},[_c('div',{staticClass:\"ms-login\"},[_c('div',{staticClass:\"ms-title\"},[_vm._v(\"用户注册\")]),_c('el-form',{ref:\"ruleForm\",staticClass:\"ms-content\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"prop\":\"username\",\"error\":_vm.err_username_msg}},[_c('el-input',{attrs:{\"placeholder\":\"请输入用户名\",\"clearable\":\"\"},on:{\"focus\":function($event){return _vm.clearValidate('username')}},model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}},[_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-lx-people\"},slot:\"prepend\"})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"email\",\"error\":_vm.err_email_msg}},[_c('el-input',{attrs:{\"placeholder\":\"请输入邮箱\",\"clearable\":\"\"},on:{\"focus\":function($event){return _vm.clearValidate('email')}},model:{value:(_vm.ruleForm.email),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"email\", $$v)},expression:\"ruleForm.email\"}},[_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-lx-mail\"},slot:\"prepend\"})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"password\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入密码\"},on:{\"focus\":function($event){return _vm.clearValidate('password')}},model:{value:(_vm.ruleForm.password),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password\", $$v)},expression:\"ruleForm.password\"}},[_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),_c('el-form-item',{attrs:{\"prop\":\"password_confirm\"}},[_c('el-input',{attrs:{\"type\":\"password\",\"placeholder\":\"请输入确认密码\"},on:{\"focus\":function($event){return _vm.clearValidate('password_confirm')}},nativeOn:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitForm('ruleForm')}},model:{value:(_vm.ruleForm.password_confirm),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"password_confirm\", $$v)},expression:\"ruleForm.password_confirm\"}},[_c('el-button',{attrs:{\"slot\":\"prepend\",\"icon\":\"el-icon-lx-lock\"},slot:\"prepend\"})],1)],1),_c('el-link',{staticClass:\"register_link\",attrs:{\"type\":\"info\",\"underline\":false,\"href\":\"/login\"}},[_vm._v(\"已有账号？点击登录\")]),_c('div',{staticClass:\"login-btn\"},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"注册\")])],1),_c('p',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.err_info),expression:\"err_info\"}],staticClass:\"login-tips\"},[_vm._v(_vm._s(_vm.err_msg))])],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"login-wrap\">\r\n<!--    <img src=\"../assets/img/logo.png\" alt=\"logo\">-->\r\n    <div class=\"ms-login\">\r\n      <div class=\"ms-title\">用户注册</div>\r\n      <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" class=\"ms-content\">\r\n        <el-form-item prop=\"username\" :error=\"err_username_msg\">\r\n          <!-- @focus=\"err_username_msg=''\" -->\r\n          <el-input v-model=\"ruleForm.username\" placeholder=\"请输入用户名\" clearable\r\n                    @focus=\"clearValidate('username')\">\r\n            <el-button slot=\"prepend\" icon=\"el-icon-lx-people\"></el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"email\" :error=\"err_email_msg\">\r\n          <el-input v-model=\"ruleForm.email\" placeholder=\"请输入邮箱\" clearable\r\n                    @focus=\"clearValidate('email')\">\r\n            <el-button slot=\"prepend\" icon=\"el-icon-lx-mail\"></el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"password\">\r\n          <el-input type=\"password\" placeholder=\"请输入密码\" v-model=\"ruleForm.password\"\r\n                    @focus=\"clearValidate('password')\">\r\n            <el-button slot=\"prepend\" icon=\"el-icon-lx-lock\"></el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-form-item prop=\"password_confirm\">\r\n          <el-input type=\"password\" placeholder=\"请输入确认密码\" v-model=\"ruleForm.password_confirm\"\r\n                    @keyup.enter.native=\"submitForm('ruleForm')\" @focus=\"clearValidate('password_confirm')\">\r\n            <el-button slot=\"prepend\" icon=\"el-icon-lx-lock\"></el-button>\r\n          </el-input>\r\n        </el-form-item>\r\n\r\n        <el-link type=\"info\" :underline=\"false\" class=\"register_link\" href=\"/login\">已有账号？点击登录</el-link>\r\n\r\n        <div class=\"login-btn\">\r\n          <el-button type=\"primary\" @click=\"submitForm('ruleForm')\">注册</el-button>\r\n        </div>\r\n        <p class=\"login-tips\" v-show=\"err_info\">{{ err_msg }}</p>\r\n      </el-form>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { register, check_username, check_email } from '../api/login'\r\n\r\nexport default {\r\n  data: function(){\r\n    let validateUsername =  async (rule, value, callback) => {\r\n      let len = value.length;\r\n      this.err_username_msg = '';\r\n      if (len < 6 || len > 20) {\r\n        callback(new Error('用户名最少6位，最多20位'));\r\n      }\r\n      else {\r\n        try {\r\n          var response = await check_username(value)\r\n          // console.log('账号数:' + response.data.count)\r\n          if (response.data.count > 0) {\r\n            this.err_username_msg = '用户名已存在';\r\n          } else {\r\n            callback();\r\n          }\r\n        }\r\n        catch(error) {\r\n          if (error.response) {\r\n            this.err_username_msg = '服务器错误';\r\n            console.log(error.response.data);\r\n            console.log(error.response.status);\r\n            console.log(error.response.headers);\r\n          }\r\n          else if (error.request) {\r\n            this.err_username_msg = error.request;\r\n            console.log(error.request);\r\n          }\r\n          else {\r\n            this.err_username_msg = error.message;\r\n            console.log('Error', error.message);\r\n          }\r\n        }\r\n      }\r\n    };\r\n\r\n    let validateEmail = async (rule, value, callback) => {\r\n      this.err_email_msg = '';\r\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n      var result = re.test(value.toLowerCase());\r\n      if (!result){\r\n        callback(new Error('请输入合法的邮箱地址'));\r\n      }\r\n      else {\r\n        check_email(value)\r\n            .then((response)=> {\r\n              if (response.data.count > 0) {\r\n                this.err_email_msg = '邮箱已存在';\r\n              }\r\n              else {\r\n                callback();\r\n              }\r\n            })\r\n            .catch(error => {\r\n              if (error.response) {\r\n                this.err_email_msg = '服务器错误';\r\n                console.log(error.response.data);\r\n                console.log(error.response.status);\r\n                console.log(error.response.headers);\r\n              }\r\n              else if (error.request){\r\n                this.err_email_msg = error.request;\r\n                console.log(error.request);\r\n              }\r\n              else {\r\n                this.err_email_msg = error.message;\r\n                console.log('Error', error.message);\r\n              }\r\n            });\r\n      }\r\n    };\r\n\r\n    let validatePass = (rule, value, callback) => {\r\n      var len = value.length;\r\n      if(len<6||len>20){\r\n        callback(new Error('密码最少6位，最多20位'));\r\n      }\r\n      else {\r\n        if (this.ruleForm.password_confirm !== '') {\r\n          this.$refs.ruleForm.validateField('password_confirm');\r\n        }\r\n        callback();\r\n      }\r\n    };\r\n\r\n    let validatePass2 = (rule, value, callback) => {\r\n      if (value === '') {\r\n        callback(new Error('请输入确认密码'));\r\n      }\r\n      else if (value !== this.ruleForm.password) {\r\n        callback(new Error('两次输入的密码不一致'));\r\n      }\r\n      else {\r\n        callback();\r\n      }\r\n    };\r\n\r\n    return {\r\n      ruleForm: {\r\n        username: '',\r\n        email: '',\r\n        password: '',\r\n        password_confirm: ''\r\n      },\r\n      err_info: false,    // 是否显示错误提示\r\n      err_msg: '',         // 具体错误提示\r\n      err_username_msg: '',   // 用户名校验失败的提示信息\r\n      err_email_msg: '',   // 邮箱校验失败的提示信息\r\n\r\n      rules: {\r\n        username: [\r\n          { validator: validateUsername, trigger: 'blur' }\r\n        ],\r\n        email: [\r\n          { validator: validateEmail, trigger: 'blur' }\r\n        ],\r\n        password: [\r\n          { validator: validatePass, trigger: 'blur' }\r\n        ],\r\n        password_confirm: [\r\n          { validator: validatePass2, trigger: 'blur' }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    submitForm(formName) {\r\n      this.$refs[formName].validate((valid) => {\r\n        if (valid) {\r\n          register(this.ruleForm)\r\n              .then((response)=> {\r\n\r\n                // 记录用户的登录状态\r\n                sessionStorage.clear();\r\n                localStorage.clear();\r\n\r\n                localStorage.token = response.data.token;\r\n                localStorage.username = response.data.username;\r\n                localStorage.user_id = response.data.id;\r\n                // console.log(localStorage);\r\n\r\n                // 路由跳转\r\n                this.$router.push({ name: 'index'})\r\n              })\r\n              .catch(error => {\r\n                if(\"non_field_errors\" in error && error.status_code === 400) {\r\n                  this.err_msg = '用户名或密码错误';\r\n                }\r\n\r\n                if (error.response) {\r\n                  this.err_msg = '服务器异常';\r\n                } else if (error.request){\r\n                  this.err_msg = \"网络异常\";\r\n\r\n                }\r\n                this.err_info = true;\r\n              });\r\n\r\n        } else {\r\n          this.err_msg = '参数有误';\r\n          this.err_info = true;\r\n          return false;\r\n        }\r\n      });\r\n    },\r\n    clearValidate(prop_value) {\r\n      this.$refs['ruleForm'].clearValidate(prop_value);\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-wrap{\r\n  position: relative;\r\n  width:100%;\r\n  height:100%;\r\n  background-image: url(../assets/img/bg1.jpg);\r\n  background-size: 100%;\r\n}\r\n.ms-title{\r\n  width:100%;\r\n  line-height: 50px;\r\n  text-align: center;\r\n  font-size:25px;\r\n  color: #E4E7ED;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n.ms-login{\r\n  position: absolute;\r\n  left:50%;\r\n  top:50%;\r\n  width:350px;\r\n  margin:-190px 0 0 -175px;\r\n  border-radius: 5px;\r\n  background: rgba(255,255,255, 0.3);\r\n  overflow: hidden;\r\n}\r\n.ms-content{\r\n  padding: 30px 30px;\r\n}\r\n.login-btn{\r\n  text-align: center;\r\n}\r\n.login-btn button{\r\n  width:100%;\r\n  height:36px;\r\n  margin-bottom: 10px;\r\n}\r\n.login-tips{\r\n  font-size:12px;\r\n  line-height:30px;\r\n  color:#F56C6C;\r\n}\r\n.register_link{\r\n  padding-left: 70px;\r\n  /* color: #E4E7ED; */\r\n  padding-bottom: 20px;\r\n}\r\n.remember_me >>> .el-form-item__label {\r\n  /* color: #409EFF; */\r\n  color: #E4E7ED;\r\n}\r\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Register.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Register.vue?vue&type=template&id=0aebeee4&scoped=true&\"\nimport script from \"./Register.vue?vue&type=script&lang=js&\"\nexport * from \"./Register.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Register.vue?vue&type=style&index=0&id=0aebeee4&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0aebeee4\",\n  null\n  \n)\n\nexport default component.exports","var uncurryThis = require('../internals/function-uncurry-this');\n\nvar replace = uncurryThis(''.replace);\n\nvar TEST = (function (arg) { return String(Error(arg).stack); })('zxcasd');\nvar V8_OR_CHAKRA_STACK_ENTRY = /\\n\\s*at [^:]*:[^\\n]*/;\nvar IS_V8_OR_CHAKRA_STACK = V8_OR_CHAKRA_STACK_ENTRY.test(TEST);\n\nmodule.exports = function (stack, dropEntries) {\n  if (IS_V8_OR_CHAKRA_STACK && typeof stack == 'string') {\n    while (dropEntries--) stack = replace(stack, V8_OR_CHAKRA_STACK_ENTRY, '');\n  } return stack;\n};\n","var fails = require('../internals/fails');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = !fails(function () {\n  var error = Error('a');\n  if (!('stack' in error)) return true;\n  // eslint-disable-next-line es/no-object-defineproperty -- safe\n  Object.defineProperty(error, 'stack', createPropertyDescriptor(1, 7));\n  return error.stack !== 7;\n});\n","var isCallable = require('../internals/is-callable');\nvar isObject = require('../internals/is-object');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\n\n// makes subclassing work correct for wrapped built-ins\nmodule.exports = function ($this, dummy, Wrapper) {\n  var NewTarget, NewTargetPrototype;\n  if (\n    // it can work only with native `setPrototypeOf`\n    setPrototypeOf &&\n    // we haven't completely correct pre-ES6 way for getting `new.target`, so use this\n    isCallable(NewTarget = dummy.constructor) &&\n    NewTarget !== Wrapper &&\n    isObject(NewTargetPrototype = NewTarget.prototype) &&\n    NewTargetPrototype !== Wrapper.prototype\n  ) setPrototypeOf($this, NewTargetPrototype);\n  return $this;\n};\n","var isObject = require('../internals/is-object');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\n// `InstallErrorCause` abstract operation\n// https://tc39.es/proposal-error-cause/#sec-errorobjects-install-error-cause\nmodule.exports = function (O, options) {\n  if (isObject(options) && 'cause' in options) {\n    createNonEnumerableProperty(O, 'cause', options.cause);\n  }\n};\n","var toString = require('../internals/to-string');\n\nmodule.exports = function (argument, $default) {\n  return argument === undefined ? arguments.length < 2 ? '' : $default : toString(argument);\n};\n","'use strict';\nvar getBuiltIn = require('../internals/get-built-in');\nvar hasOwn = require('../internals/has-own-property');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar setPrototypeOf = require('../internals/object-set-prototype-of');\nvar copyConstructorProperties = require('../internals/copy-constructor-properties');\nvar inheritIfRequired = require('../internals/inherit-if-required');\nvar normalizeStringArgument = require('../internals/normalize-string-argument');\nvar installErrorCause = require('../internals/install-error-cause');\nvar clearErrorStack = require('../internals/clear-error-stack');\nvar ERROR_STACK_INSTALLABLE = require('../internals/error-stack-installable');\nvar IS_PURE = require('../internals/is-pure');\n\nmodule.exports = function (FULL_NAME, wrapper, FORCED, IS_AGGREGATE_ERROR) {\n  var OPTIONS_POSITION = IS_AGGREGATE_ERROR ? 2 : 1;\n  var path = FULL_NAME.split('.');\n  var ERROR_NAME = path[path.length - 1];\n  var OriginalError = getBuiltIn.apply(null, path);\n\n  if (!OriginalError) return;\n\n  var OriginalErrorPrototype = OriginalError.prototype;\n\n  // V8 9.3- bug https://bugs.chromium.org/p/v8/issues/detail?id=12006\n  if (!IS_PURE && hasOwn(OriginalErrorPrototype, 'cause')) delete OriginalErrorPrototype.cause;\n\n  if (!FORCED) return OriginalError;\n\n  var BaseError = getBuiltIn('Error');\n\n  var WrappedError = wrapper(function (a, b) {\n    var message = normalizeStringArgument(IS_AGGREGATE_ERROR ? b : a, undefined);\n    var result = IS_AGGREGATE_ERROR ? new OriginalError(a) : new OriginalError();\n    if (message !== undefined) createNonEnumerableProperty(result, 'message', message);\n    if (ERROR_STACK_INSTALLABLE) createNonEnumerableProperty(result, 'stack', clearErrorStack(result.stack, 2));\n    if (this && isPrototypeOf(OriginalErrorPrototype, this)) inheritIfRequired(result, this, WrappedError);\n    if (arguments.length > OPTIONS_POSITION) installErrorCause(result, arguments[OPTIONS_POSITION]);\n    return result;\n  });\n\n  WrappedError.prototype = OriginalErrorPrototype;\n\n  if (ERROR_NAME !== 'Error') {\n    if (setPrototypeOf) setPrototypeOf(WrappedError, BaseError);\n    else copyConstructorProperties(WrappedError, BaseError, { name: true });\n  }\n\n  copyConstructorProperties(WrappedError, OriginalError);\n\n  if (!IS_PURE) try {\n    // Safari 13- bug: WebAssembly errors does not have a proper `.name`\n    if (OriginalErrorPrototype.name !== ERROR_NAME) {\n      createNonEnumerableProperty(OriginalErrorPrototype, 'name', ERROR_NAME);\n    }\n    OriginalErrorPrototype.constructor = WrappedError;\n  } catch (error) { /* empty */ }\n\n  return WrappedError;\n};\n","/* eslint-disable no-unused-vars -- required for functions `.length` */\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar apply = require('../internals/function-apply');\nvar wrapErrorConstructorWithCause = require('../internals/wrap-error-constructor-with-cause');\n\nvar WEB_ASSEMBLY = 'WebAssembly';\nvar WebAssembly = global[WEB_ASSEMBLY];\n\nvar FORCED = Error('e', { cause: 7 }).cause !== 7;\n\nvar exportGlobalErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  var O = {};\n  O[ERROR_NAME] = wrapErrorConstructorWithCause(ERROR_NAME, wrapper, FORCED);\n  $({ global: true, forced: FORCED }, O);\n};\n\nvar exportWebAssemblyErrorCauseWrapper = function (ERROR_NAME, wrapper) {\n  if (WebAssembly && WebAssembly[ERROR_NAME]) {\n    var O = {};\n    O[ERROR_NAME] = wrapErrorConstructorWithCause(WEB_ASSEMBLY + '.' + ERROR_NAME, wrapper, FORCED);\n    $({ target: WEB_ASSEMBLY, stat: true, forced: FORCED }, O);\n  }\n};\n\n// https://github.com/tc39/proposal-error-cause\nexportGlobalErrorCauseWrapper('Error', function (init) {\n  return function Error(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('EvalError', function (init) {\n  return function EvalError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('RangeError', function (init) {\n  return function RangeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('ReferenceError', function (init) {\n  return function ReferenceError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('SyntaxError', function (init) {\n  return function SyntaxError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('TypeError', function (init) {\n  return function TypeError(message) { return apply(init, this, arguments); };\n});\nexportGlobalErrorCauseWrapper('URIError', function (init) {\n  return function URIError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('CompileError', function (init) {\n  return function CompileError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('LinkError', function (init) {\n  return function LinkError(message) { return apply(init, this, arguments); };\n});\nexportWebAssemblyErrorCauseWrapper('RuntimeError', function (init) {\n  return function RuntimeError(message) { return apply(init, this, arguments); };\n});\n"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","ref","attrs","ruleForm","rules","err_username_msg","on","$event","clearValidate","model","value","callback","$$v","$set","expression","slot","err_email_msg","nativeOn","type","indexOf","_k","keyCode","key","submitForm","directives","name","rawName","_s","err_msg","staticRenderFns","data","len","check_username","response","console","re","result","check_email","then","catch","length","Error","username","email","password","password_confirm","err_info","validator","trigger","methods","formName","$refs","validate","valid","register","sessionStorage","localStorage","prop_value","component","uncurryThis","replace","TEST","arg","String","stack","V8_OR_CHAKRA_STACK_ENTRY","IS_V8_OR_CHAKRA_STACK","test","module","exports","dropEntries","fails","createPropertyDescriptor","error","Object","defineProperty","isCallable","isObject","setPrototypeOf","$this","dummy","Wrapper","NewTarget","NewTargetPrototype","constructor","prototype","createNonEnumerableProperty","O","options","cause","toString","argument","$default","undefined","arguments","getBuiltIn","hasOwn","isPrototypeOf","copyConstructorProperties","inheritIfRequired","normalizeStringArgument","installErrorCause","clearErrorStack","ERROR_STACK_INSTALLABLE","IS_PURE","FULL_NAME","wrapper","FORCED","IS_AGGREGATE_ERROR","OPTIONS_POSITION","path","split","ERROR_NAME","OriginalError","apply","OriginalErrorPrototype","BaseError","WrappedError","a","b","message","$","global","wrapErrorConstructorWithCause","WEB_ASSEMBLY","WebAssembly","exportGlobalErrorCauseWrapper","forced","exportWebAssemblyErrorCauseWrapper","target","stat","init"],"sourceRoot":""}