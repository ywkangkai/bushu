"use strict";(self["webpackChunkvue_admin"]=self["webpackChunkvue_admin"]||[]).push([[185],{7724:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"table"},[n("div",{staticClass:"crumbs"},[n("el-breadcrumb",{attrs:{separator:"/"}},[n("el-breadcrumb-item",[n("i",{staticClass:"el-icon-lx-calendar"}),e._v(" 用例管理")]),n("el-breadcrumb-item",[e._v("用例列表")])],1)],1),n("div",{staticClass:"container"},[n("div",{staticClass:"handle-box"},[n("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"el-icon-delete"},on:{click:e.delAll}},[e._v("批量删除")]),n("el-input",{staticClass:"handle-input mr10",attrs:{placeholder:"输入筛选关键词"},model:{value:e.select_word,callback:function(t){e.select_word=t},expression:"select_word"}}),n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),n("el-table",{ref:"multipleTable",staticClass:"table",attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),n("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center"}}),n("el-table-column",{attrs:{prop:"name",label:"用例名称",width:"250"}}),n("el-table-column",{attrs:{prop:"interface.project",label:"所属项目",width:"250"}}),n("el-table-column",{attrs:{prop:"interface.name",label:"所属接口",width:"250"}}),n("el-table-column",{attrs:{prop:"author",label:"测试人员",width:"100",align:"center"}}),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.handleRun(t.$index,t.row)}}},[e._v("运行")]),n("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(n){return e.linkTo(t.row.id)}}},[e._v("编辑")]),n("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(n){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),n("div",{staticClass:"pagination"},[n("el-pagination",{attrs:{background:"","page-sizes":[4,5,8,10,20],layout:"total, sizes, prev, pager, next, jumper",total:e.total_nums,"page-size":e.page_size},on:{"current-change":e.handleCurrentChange,"size-change":e.handleSizeChange}})],1)],1),n("el-dialog",{attrs:{title:"删除接口",visible:e.delVisible,width:"300px",center:""},on:{"update:visible":function(t){e.delVisible=t}}},[n("div",{staticClass:"del-dialog-cnt"},[e._v("删除不可恢复，是否确定删除？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.delVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:e.deleteRow}},[e._v("确 定")])],1)]),n("el-dialog",{attrs:{title:"运行接口",visible:e.runVisible,width:"30%",center:""},on:{"update:visible":function(t){e.runVisible=t}}},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"运行环境"}},[n("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.env_id,callback:function(t){e.env_id=t},expression:"env_id"}},e._l(e.envs_id_names,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.runVisible=!1}}},[e._v("取 消")]),n("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],attrs:{type:"primary"},on:{click:e.openFullScreen1}},[e._v("运行")])],1)],1)],1)},r=[],s=n(2552),a={name:"basetable",data(){return{tableData:[],cur_page:1,page_size:10,total_nums:1,multipleSelection:[],select_word:"",del_list:[],editVisible:!1,delVisible:!1,runVisible:!1,form:{},idx:-1,id:-1,env_id:"",envs_id_names:[],fullscreenLoading:!1}},created(){this.getData(),this.getEnvsIdNames()},methods:{open(e){this.$confirm("用例执行完成，是否前往查看报告?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{this.$router.push({path:`/reports_view/${e.data.id}`})})).catch((()=>{}))},async openFullScreen1(){if(""===this.env_id)this.$message.error("请选择运行环境");else{this.runVisible=!1,this.fullscreenLoading=!0;let e=await(0,s.s2)({iid:this.id,env_id:this.env_id});e.status,this.fullscreenLoading=!1,this.open(e)}},handleCurrentChange(e){this.cur_page=e,this.getData()},handleSizeChange(e){this.page_size=e,this.getData()},getData(){(0,s.KL)({page:this.cur_page,size:this.page_size}).then((e=>{this.tableData=e.data.results,this.cur_page=e.data.current_page_num||1,this.total_nums=e.data.count||1}))},search(){(0,s.vi)({name:this.select_word}).then((e=>{this.tableData=e.data.results}))},formatter(e,t){return e.address},filterTag(e,t){return t.tag===e},handleEdit(e,t){this.idx=e,this.id=t.id,this.form=t,this.editVisible=!0},handleRun(e,t){this.idx=e,this.id=t.id,this.form=t,this.runVisible=!0},handleDelete(e,t){this.idx=e,this.id=t.id,this.delVisible=!0},delAll(){(0,s.NM)({idlist:this.del_list}).then((e=>{this.$message.success("删除成功"),this.tableData=e.data.results})).catch((e=>{this.$message.error("服务器错误")}))},handleSelectionChange(e){let t=e,n=[];for(var i=0;i<t.length;i++)n.push(t[i]["id"]);this.del_list=n},deleteRow(){(0,s.ah)(this.id).then((e=>{this.$message.success("删除成功"),this.delVisible=!1,this.tableData=e.data.results,this.cur_page=e.data.current_page_num||1,this.total_nums=e.data.count||1})).catch((e=>{this.$message.error("服务器错误")}))},getEnvsIdNames(){(0,s.Tg)().then((e=>{this.envs_id_names=e.data})).catch((e=>{this.$message.error("服务器错误")}))},linkTo(e){this.$router.push({path:`/testcases_edit/${e}`})}}},l=a,o=n(1001),u=(0,o.Z)(l,i,r,!1,null,"332c7add",null),c=u.exports},2552:function(e,t,n){n.d(t,{$8:function(){return te},$q:function(){return A},AH:function(){return le},AZ:function(){return v},B:function(){return d},Bx:function(){return B},Cs:function(){return U},DC:function(){return S},Dr:function(){return ce},FP:function(){return $},G3:function(){return X},GL:function(){return de},GW:function(){return _e},IG:function(){return h},KL:function(){return ne},Kh:function(){return be},Kq:function(){return ve},L$:function(){return c},LO:function(){return w},Lu:function(){return Y},NM:function(){return se},NV:function(){return o},NW:function(){return V},OM:function(){return ee},PT:function(){return y},QG:function(){return Ce},RB:function(){return L},RD:function(){return we},RQ:function(){return D},Sp:function(){return $e},TR:function(){return J},Tg:function(){return oe},Tj:function(){return he},Vx:function(){return q},W7:function(){return I},WD:function(){return m},XC:function(){return Q},Z4:function(){return E},ZH:function(){return K},Zf:function(){return _},_X:function(){return f},ah:function(){return re},aj:function(){return z},ay:function(){return T},cQ:function(){return ye},cu:function(){return fe},d9:function(){return a},ei:function(){return ae},iO:function(){return C},ie:function(){return x},in:function(){return F},jJ:function(){return g},jh:function(){return me},kJ:function(){return pe},kq:function(){return P},lO:function(){return ze},n:function(){return p},nL:function(){return j},nk:function(){return N},nq:function(){return b},ny:function(){return Z},o:function(){return R},pU:function(){return M},pW:function(){return ge},s2:function(){return ue},tK:function(){return k},tc:function(){return ke},th:function(){return u},vi:function(){return ie},vj:function(){return W},x4:function(){return l},xQ:function(){return G},yr:function(){return O},z:function(){return H}});var i=n(4206),r=n.n(i);let s="http://kk.uoyo.net:8080";const a=e=>r().get(`${s}/project/list/?page=`+e.page+"&size="+e.size,e),l=e=>r().post(`${s}/project/detail/`,e),o=(e,t)=>r().put(`${s}/project/edit/`+e+"/",t),u=e=>r()["delete"](`${s}/project/delete/`+e+"/"),c=e=>r().post(`${s}/project/deleteall/`,e),d=e=>r().post(`${s}/project/add/`,e),p=()=>r().get(`${s}/interface/project/name`),f=()=>r().get(`${s}/project/get/env/`),g=e=>r().post(`${s}/project/run/`,e),h=e=>r().post(`${s}/interface/add/`,e),$=e=>r().get(`${s}/interface/list/?page=`+e.page+"&size="+e.size,e),m=(e,t)=>r().put(`${s}/interface/edit/`+e+"/",t),b=e=>r()["delete"](`${s}/interface/delete/`+e+"/"),v=e=>r().post(`${s}/interface/deleteall/`,e),_=e=>r().post(`${s}/interface/detail/`,e),y=()=>r().get(`${s}/interface/env/`),k=e=>r().post(`${s}/interface/run/`,e),z=e=>r().get(`${s}/env/list/?page=`+e.page+"&size="+e.size,e),w=(e,t)=>r().put(`${s}/env/edit/`+e+"/",t),C=e=>r()["delete"](`${s}/env/delete/`+e+"/"),x=e=>r().post(`${s}/env/add/`,e),j=e=>r().post(`${s}/env/detail/`,e),D=e=>r().post(`${s}/env/deleteall/`,e),V=e=>r().get(`${s}/debugtalk/list/?page=`+e.page+"&size="+e.size,e),L=e=>r().post(`${s}/debugtalk/detail/`,e),T=e=>r().get(`${s}/debugtalk/code/`+e+"/"),S=e=>r().put(`${s}/debugtalk/update/`,e),R=()=>r().get(`${s}/config/project/name/`),N=e=>r().post(`${s}/config/interface/name/`,e),B=e=>r().post(`${s}/config/save/`,e),G=e=>r().get(`${s}/config/list/?page=`+e.page+"&size="+e.size,e),K=e=>r().post(`${s}/config/detail/`,e),W=e=>r()["delete"](`${s}/config/delete/`+e+"/"),Z=e=>r().post(`${s}/config/deleteall/`,e),q=e=>r().get(`${s}/config/detail/`+e+"/"),A=(e,t)=>r().put(`${s}/config/update/`+e+"/",t),E=()=>r().get(`${s}/testsuite/project/name/`),O=e=>r().post(`${s}/testsuite/interface/name/`,e),Q=e=>r().post(`${s}/testsuite/add/`,e),F=e=>r().get(`${s}/testsuite/list/?page=`+e.page+"&size="+e.size,e),I=e=>r().post(`${s}/testsuite/detail/`,e),M=e=>r().get(`${s}/testsuite/detail/`+e+"/"),H=(e,t)=>r().put(`${s}/testsuite/update/`+e+"/",t),J=e=>r().post(`${s}/testsuite/deleteall/`,e),P=e=>r()["delete"](`${s}/testsuite/delete/`+e+"/"),X=()=>r().get(`${s}/testcase/project/name/`),U=e=>r().post(`${s}/testcase/interface/name/`,e),Y=e=>r().post(`${s}/testcase/configure/name/`,e),ee=e=>r().post(`${s}/testcase/name/`,e),te=e=>r().post(`${s}/testcase/add/`,e),ne=e=>r().get(`${s}/testcase/list/?page=`+e.page+"&size="+e.size),ie=e=>r().post(`${s}/testcase/detail/`,e),re=e=>r()["delete"](`${s}/testcase/delete/`+e+"/"),se=e=>r().post(`${s}/testcase/deleteall/`,e),ae=e=>r().get(`${s}/testcase/get/detail/`+e+"/"),le=e=>r().put(`${s}/testcase/update/`,e),oe=()=>r().get(`${s}/testcase/get/env/`),ue=e=>r().post(`${s}/testcase/run/`,e),ce=e=>r().get(`${s}/report/list/?page=`+e.page+"&size="+e.size),de=e=>r().get(`${s}/report/view/`+e+"/"),pe=e=>r().post(`${s}/report/download/`+e+"/"),fe=e=>r()["delete"](`${s}/report/delete/`+e+"/"),ge=e=>r().post(`${s}/report/deleteall/`,e),he=e=>r().post(`${s}/report/open/`,e),$e=()=>r().get(`${s}/summary/data/`),me=e=>r().post(`${s}/repository/add/`,e),be=e=>r().get(`${s}/repository/list/?page=`+e.page+"&size="+e.size),ve=e=>r().post(`${s}/repository/detail/`,e),_e=e=>r().put(`${s}/repository/update/`,e),ye=e=>r()["delete"](`${s}/repository/delete/`+e+"/"),ke=e=>r().post(`${s}/repository/deleteall/`,e),ze=e=>r().post(`${s}/repository/search/`,e),we=e=>r().post(`${s}/repository/git/`,e),Ce=e=>r().post(`${s}/repository/compile/`,e)}}]);
//# sourceMappingURL=185.6231b95c.js.map